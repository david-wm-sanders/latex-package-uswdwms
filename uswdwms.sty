% Packages imported by the style with some configuration for certain packages
\usepackage[T1]{fontenc}
\usepackage[UKenglish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[a4paper, margin=0.75in]{geometry}
\usepackage{enumitem}
\usepackage[colorlinks=true, linkcolor=black, citecolor=black, urlcolor=blue]{hyperref}
\usepackage[nottoc,numbib]{tocbibind}
\usepackage[round]{natbib}
\usepackage{fancyvrb}
\usepackage{fancyhdr}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{float}
\usepackage{tabularx, makecell}
\usepackage{pdfpages}
\usepackage[bottom]{footmisc}
\usepackage{caption}
% -

% Configuration
% Configure colours
\definecolor{terminalbg-gray}{gray}{0.95}
\definecolor{light-gray}{gray}{0.75}
\definecolor{fader-gray}{gray}{0.5}
% Set the graphicx path
\graphicspath{{images/}}
% Change font to Palatino
\renewcommand{\rmdefault}{ppl}
% Change the list item spacing
\setlist{noitemsep}
% Set the bibliography style
\bibliographystyle{usw}
% Configure fancyhdr
\renewcommand{\headrulewidth}{0.1mm}
\renewcommand{\footrulewidth}{0.1mm}
\renewcommand{\headrule}{
  \vspace{0.8mm}\vspace{-\baselineskip}
  \textcolor{fader-gray}{\rule{\linewidth}{\headrulewidth}}
}
\renewcommand{\footrule}{
  % \vspace*{0.8mm}\vspace*{\baselineskip}
  \textcolor{fader-gray}{\rule{\linewidth}{\footrulewidth}}
}
% -

% Custom functions
% Set up an inline todo command
\newcommand{\todo}[1]{\textcolor{red}{todo: #1}}

% Set up a todo environment
\newenvironment{todoenv}
  {\color{red}todo:}
  {\color{black}}

% Set up a terminal command block
\newcommand{\term}[1]{\colorbox{terminalbg-gray}{\texttt{#1}}}

% Make fancy headers and footers for reports
\newcommand{\makeheadersandfooters}[4]{
  \fancyhf{}
  \lhead{\textcolor{fader-gray}{#1}}
  \rhead{\textcolor{fader-gray}{#2}}
  \lfoot{\textcolor{fader-gray}{#3}}
  \rfoot{\textcolor{fader-gray}{#4}}
}

% Make a fancy title page
\newcommand{\makeuswtitlepage}{
  \begin{titlepage}
    \centering
    \vspace*{2cm}
    % Insert logo
    \includegraphics[scale = 0.15]{usw_logo.jpg}\\
    % Insert institution and course titles
    \textsc{\LARGE \institutionid\\\Large \unicoursename}\\[1cm]

    % Insert double-line top
    \textcolor{fader-gray}{\rule{\linewidth}{0.2mm}}\\
    \vspace{0.8mm}\vspace{-\baselineskip}
    \textcolor{fader-gray}{\rule{\linewidth}{0.2mm}}\\[0.5cm]

    % Insert report title
    %% v3
    {\Huge\bfseries \unimodulecode}\\
    \textsc{\Large \unimodulename}\\
    %%
    \textcolor{light-gray}{\rule{\linewidth}{0.2mm}}\\[0.5cm]
    \textsc{\Large \thetitle}\\

    % Insert lines bottom
    \textcolor{fader-gray}{\rule{\linewidth}{0.2mm}}\\
    \vspace{0.8mm}\vspace{-\baselineskip}
    \textcolor{fader-gray}{\rule{\linewidth}{0.2mm}}\\[2cm]

    % Insert italicised date
    {\large \textit{\thedate}}\\[2cm]

    % \begin{minipage}[t][5cm][t]{0.4\linewidth}
    \begin{minipage}[t]{0.4\linewidth}
      \vspace{0pt}
      \raggedleft
      \textcolor{fader-gray}{\textit{Submitted to:}}\\
      \unimodulelect\\
    \end{minipage}\hspace{5mm}\textcolor{light-gray}{\vline width 0.1mm}\hspace{4mm}~%
    \begin{minipage}[t]{0.4\linewidth}
      \vspace{0pt}
      \raggedright
      \textcolor{fader-gray}{\textit{Author:}}\\
      \theauthor\\\unistudentid\\
    \end{minipage}\\

  \end{titlepage}
}
% -
